# オリジナルポモドーロタイマー - 会話メモ

## プロジェクト概要
「松村式ポモドーロ」— ユーザー独自のタイミング・ルールに基づいたポモドーロタイマー。

## 松村式ルール（確定）

### 基本サイクル
- 作業：25分 → 短休憩：5分30秒（×3回）→ 作業：25分 → 長休憩：25分
- 1セット = 作業4回 + 短休憩3回 + 長休憩1回

### ループ
- 回数指定（1〜任意）または無限ループ

### 休憩ルール
- 休憩はスキップ・停止・解除 一切不可
- 休憩中は受動的快楽か何もしないこと

### 作業中の禁止事項（マルチタスク厳禁）
- 音楽・BGM、動画、SNS、メール、その他

### 中断ルール
- **トイレ**: 一時停止 → 続きから再開（トイレ以外禁止、スマホ禁止）
- **外的中断**（電話・来客等）:
  - 0〜5分経過 → 休憩なしでやり直し
  - 5〜20分経過 → 5:30休憩 → やり直し
  - 20分以降 → 続きから再開
- **内的中断**（禁止事項違反）:
  - ポモドーロ不成立（「存在しない」扱い）
  - 3分間使用禁止 → 再開可能

### 通知（2段階）
- 残り1分（予告）: バイブ1回 + 柔らかい音
- 時間到達（切替）: バイブ3回 + はっきりした音

## 技術方針（段階的リリース戦略）

### Phase 1：PWA（実装済み v1）
- バニラ HTML/CSS/JS
- Service Worker でオフライン完全対応
- Web Worker で正確なタイマー
- Wake Lock API で画面消灯防止
- Web Audio API で通知音生成
- Vibration API でバイブレーション

### Phase 2：Galaxy Watch（Wear OS）
- Kotlin + Android Studio で開発
- 現在のWindows環境で開発可能（Macは不要）
- PWAで確立したロジックを移植

### Phase 3：Apple Watch
- Swift/SwiftUI + Xcode で開発
- Mac環境が必要
- Apple Developer アカウント（$99/年）が必要

## ファイル構成
```
オリジナルポモドーロタイマー/
├── index.html       ... メインHTML
├── style.css        ... スタイル（ダークテーマ）
├── app.js           ... アプリロジック（状態遷移・通知・UI制御）
├── timer-worker.js  ... Web Worker（正確なタイマー）
├── manifest.json    ... PWAマニフェスト
├── sw.js            ... Service Worker（オフラインキャッシュ）
├── icon.svg         ... アプリアイコン
└── 会話メモ.md       ... このファイル
```

## 現在のステータス
- [x] ルール確定
- [x] UI方針確定（シンプル・実用的・見やすい、ダークテーマ）
- [x] PWA v1 実装完了
- [ ] 実機テスト・フィードバック反映
- [ ] Galaxy Watch 版
- [ ] Apple Watch 版

## 次セッションでやること
1. PWAの動作確認・フィードバック収集
2. 必要に応じてUI/機能の調整
3. Galaxy Watch版の検討

---

## 会話ログ

### 2026-02-12
- プロジェクト発足
- 技術方針を議論し、PWA → Galaxy Watch → Apple Watch の段階戦略で合意
- Galaxy WatchはWindows環境で開発可能であることを確認
- Apple WatchはMac環境が必要であることを確認
- 松村式ポモドーロのルールを確定
  - 長休憩: 25分固定
  - ループ: 回数指定 + 無限ループ
  - 通知: 2段階（予告 + 到達）、バイブ回数・音色を区別
  - 記録・統計: 不要
  - 休憩: スキップ・停止・解除 一切不可
- PWA v1 を実装完了
